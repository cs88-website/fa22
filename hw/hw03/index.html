<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS88: Computational Structures in Data Science" />
    <meta name="keywords" content ="CS88, Computer Science, Data Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Michael Ball, Anjali Gurajapu, Jessica Lin, Tommy Joseph, Lukas Chang, Karim Kaylani, Hetal Shah, Sebastian Zhao, Amit Sant, Michelle Chen, Christine Zhang, Ethan Yoo, Joanna Yoo" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/fa22/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/fa22/assets/css/style.css">
    <link rel="icon" href="/fa22/assets/images/favicon.ico">
    <link rel="stylesheet" href="/fa22/assets/css/mono-blue.css">

    <link rel="stylesheet" type="text/css" href="/fa22/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="/fa22/assets/css/hw.css"/>


    <title>Homework 3 | CS 88 Fall 2022</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Nav Menu" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/fa22/">CS 88</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/fa22/">Calendar</a></li>
            <li><a href="/fa22/articles/resources.html">Resources</a></li>
            <li><a href="/fa22/weekly-schedule.html">Google Calendar</a></li>
            <li><a href="/fa22/articles/about.html">Syllabus</a></li>
            <li><a href="https://edstem.org/us/courses/25294/" target="_blank">Ed</a></li>
            <li><a href="/fa22/staff.html">Staff</a></li>
            <li><a href="https://oh.c88c.org/" target="_blank">OH Queue</a></li>
            <li><a href="https://tutor.cs61a.org/" target="_blank">Python Tutor</a></li>
            <li><a href="https://bcourses.berkeley.edu/courses/1518009/external_tools/78985" target="_blank">Recordings</a></li>
          </ul>
        </div>
      </div>
    </nav>

    

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <div class="row row-no-gutters">
    <div class="col-md-8">
        <h1 class="content-title-brand" style="padding-top: 0;">
            Homework 3
            <br>
            <small><i>Due at 11:59:59 pm on Thursday, 9/22/2022.</i></small>
        </h1>
    </div>
    <div class="col-md-4">
        <a class="h1 btn btn-lg" href="hw03.zip">hw03.zip</a>
    </div>
</div>
    </div>

    <h2>Instructions</h2>

<p>Download <a href="hw03.zip"> hw03.zip</a>.
    Inside the archive, you will find starter files for the questions in this homework,
    along with a copy of the OK autograder.</p>

<p><strong>Submission:</strong> When you are done, submit with <code>python3 ok --submit</code>. You may submit more than once before the deadline; only the final submission will be scored. Check that you have successfully submitted your code on <a href="https://okpy.org">okpy.org</a>.</p>

<p><strong>Readings:</strong> This homework relies on following references:</p>

<ul>
  <li><a href="http://composingprograms.com/pages/16-higher-order-functions.html#functions-as-arguments">Section 1.6</a></li>
</ul>

    


<h2 id="lists-review">Lists Review</h2>


<h3 class="question" id="q1">Question 1: Adding matrices</h3>

<p>Write a function that adds two matrices together using
list comprehensions. The function should take in two 2D lists of
the same dimensions. Try to implement this in one line!</p>

<solution>

<pre><code>def add_matrices(x, y):
    &quot;&quot;&quot;
    &gt;&gt;&gt; matrix1 = [[1, 3],
    ...            [2, 0]]
    &gt;&gt;&gt; matrix2 = [[&#x2d;3, 0],
    ...            [1, 2]]
    &gt;&gt;&gt; add_matrices(matrix1, matrix2)
    [[&#x2d;2, 3], [3, 2]]
    &gt;&gt;&gt; matrix4 = [[ 1, &#x2d;2,  3],
    ...            [&#x2d;4,  5, &#x2d;6]]
    &gt;&gt;&gt; matrix5 = [[&#x2d;1,  2, &#x2d;3],
    ...            [ 4, &#x2d;5,  6]]
    &gt;&gt;&gt; add_matrices(matrix4, matrix5)
    [[0, 0, 0], [0, 0, 0]]
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
    </code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q add_matrices</code></pre>


<h2 id="higher-order-functions">Higher Order Functions</h2>


<h3 class="question" id="q2">Question 2: Mul_by_num</h3>

<p>Using higher order functions, complete the <code>mul_by_num</code> function. This
function should take an argument and return a one argument function
that multiplies any value passed to it by the original number.</p>

<solution>

<pre><code>def mul_by_num(factor):
    &quot;&quot;&quot;
    Returns a function that takes one argument and
    returns the product of factor and that argument.
    &gt;&gt;&gt; x = mul_by_num(5)
    &gt;&gt;&gt; y = mul_by_num(2)
    &gt;&gt;&gt; x(3)
    15
    &gt;&gt;&gt; y(&#x2d;4)
    &#x2d;8
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
    </code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q mul_by_num</code></pre>

<h3 class="question" id="q3">Question 3: This Question is so Derivative</h3>

<p>Define a function <code>make_derivative</code> that returns a function: the derivative of a
function <code>f</code>. Assuming that <code>f</code> is a single-variable mathematical function, its
derivative will also be a single-variable function. When called with a number
<code>a</code>, the derivative will estimate the slope of <code>f</code> at point <code>(a, f(a))</code>.</p>

<p>Recall that the formula for finding the derivative of <code>f</code> at point <code>a</code> is:</p>

<p><img class="img-responsive center-block" src="assets/derivative.png" alt="Derivative"></p>

<p>where <code>h</code> approaches 0. We will approximate the derivative by choosing a very
small value for <code>h</code>. The closer <code>h</code> is to 0, the better the estimate of the
derivative will be.</p>

<solution>

<pre><code>def make_derivative(f):
    &quot;&quot;&quot;Returns a function that approximates the derivative of f.

    Recall that f&#x27;(a) = (f(a + h) &#x2d; f(a)) / h as h approaches 0. We will
    approximate the derivative by choosing a very small value for h.

    &gt;&gt;&gt; def square(x): 
    ...     # equivalent to: square = lambda x: x*x
    ...     return x*x
    &gt;&gt;&gt; derivative = make_derivative(square)
    &gt;&gt;&gt; result = derivative(3)
    &gt;&gt;&gt; round(result, 3) # approximately 2*3
    6.0
    &quot;&quot;&quot;
    h=0.00001
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q make_derivative</code></pre>

<h3 class="question" id="q4">Question 4: Count van Count</h3>

<p>Consider the following implementations of <code>count_factors</code> and <code>count_primes</code>:</p>

<pre><code>def count_factors(n):
    &quot;&quot;&quot;Return the number of positive factors that n has.&quot;&quot;&quot;
    i, count = 1, 0
    while i &lt;= n:
        if n % i == 0:
            count += 1
        i += 1
    return count

def count_primes(n):
    &quot;&quot;&quot;Return the number of prime numbers up to and including n.&quot;&quot;&quot;
    i, count = 1, 0
    while i &lt;= n:
        if is_prime(i):
            count += 1
        i += 1
    return count

def is_prime(n):
    return count_factors(n) == 2 # only factors are 1 and n</code></pre>

<p>The implementations look quite similar! Generalize this logic by writing a
function <code>count_cond</code>, which takes in a two-argument predicate function <code>mystery_function(n,
i)</code>. <code>count_cond</code> returns a count of all the numbers from 1 to <code>n</code> that satisfy
<code>mystery_function</code>.</p>

<p>Note: A predicate function is a function that returns a boolean (<code>True</code> or <code>False</code>).</p>

<solution>

<pre><code>def count_cond(mystery_function, n):
    &quot;&quot;&quot;
    &gt;&gt;&gt; def divisible(n, i):
    ...     return n % i == 0
    &gt;&gt;&gt; count_cond(divisible, 2) # 1, 2
    2
    &gt;&gt;&gt; count_cond(divisible, 4) # 1, 2, 4
    3
    &gt;&gt;&gt; count_cond(divisible, 12) # 1, 2, 3, 4, 6, 12
    6

    &gt;&gt;&gt; def is_prime(n, i):
    ...     return count_cond(divisible, i) == 2
    &gt;&gt;&gt; count_cond(is_prime, 2) # 2
    1
    &gt;&gt;&gt; count_cond(is_prime, 3) # 2, 3
    2
    &gt;&gt;&gt; count_cond(is_prime, 4) # 2, 3
    2
    &gt;&gt;&gt; count_cond(is_prime, 5) # 2, 3, 5
    3
    &gt;&gt;&gt; count_cond(is_prime, 20) # 2, 3, 5, 7, 11, 13, 17, 19
    8
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
    </code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q count_cond</code></pre>

<h3 class="question" id="q5">Question 5: I Heard You Liked Functions...</h3>

<p>Define a function <code>cycle</code> that takes in three functions <code>f1</code>, <code>f2</code>,
<code>f3</code>, as arguments. <code>cycle</code> will return another function that should
take in an integer argument <code>n</code> and return another function.  That
final function should take in an argument <code>x</code> and cycle through
applying <code>f1</code>, <code>f2</code>, and <code>f3</code> to <code>x</code>, depending on what <code>n</code>
was. Here's the what the final function should do to <code>x</code> for a few
values of <code>n</code>:</p>

<ul>
  <li><code>n = 0</code>, return <code>x</code></li>
  <li><code>n = 1</code>, apply <code>f1</code> to <code>x</code>, or return <code>f1(x)</code></li>
  <li><code>n = 2</code>, apply <code>f1</code> to <code>x</code> and then <code>f2</code> to the result of that, or
  return <code>f2(f1(x))</code></li>
  <li><code>n = 3</code>, apply <code>f1</code> to <code>x</code>, <code>f2</code> to the result of applying <code>f1</code>,
  and then <code>f3</code> to the result of applying <code>f2</code>, or <code>f3(f2(f1(x)))</code></li>
  <li><code>n = 4</code>, start the cycle again applying <code>f1</code>, then <code>f2</code>, then <code>f3</code>,
  then <code>f1</code> again, or <code>f1(f3(f2(f1(x))))</code></li>
  <li>And so forth.</li>
</ul>

<p><em>Hint</em>: most of the work goes inside the most nested function.
<br/>
<em>Hint 2</em>: given <code>n</code>, how many function calls are made on <code>x</code>?
<br/>
<em>Hint 3</em>: for help with how to cycle through the
functions (i.e., how to go back to applying <code>f1</code> as your outermost
function call when <code>n = 4</code>), consider looking at
<a href="https://pythontutor.com/visualize.html#code=def%20alternator%28lst%29%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20Creates%20a%20new%20list%20that%20itself%20consists%20of%20two%20lists,%0A%20%20%20%20the%20first%20containing%20all%20elements%20from%20even%20indices%20of%20lst,%0A%20%20%20%20the%20second%20containing%20all%20elements%20from%20odd%20indices%20of%20lst.%0A%20%20%20%20%3E%3E%3E%20alternator%28%5B1,%207,%203,%202,%204,%206%5D%29%0A%20%20%20%20%5B%5B1,%203,%204%5D,%20%5B7,%202,%206%5D%5D%0A%20%20%20%20%22%22%22%0A%20%20%20%20lst1%20%3D%20%5B%5D%0A%20%20%20%20lst2%20%3D%20%5B%5D%0A%20%20%20%20for%20i%20in%20range%28len%28lst%29%29%3A%0A%20%20%20%20%20%20%20%20if%20i%20%25%202%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20lst1.append%28lst%5Bi%5D%29%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20lst2.append%28lst%5Bi%5D%29%0A%20%20%20%20return%20%5Blst1,%20lst2%5D%0A%0Aans%20%3D%20alternator%28%5B1,%207,%203,%202,%204,%206%5D%29&cumulative=true&heapPrimitives=nevernest&mode=edit&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false">this</a> python tutor demo
which has similar cycling behaviour.
<br/>

<solution></p>

<pre><code>def cycle(f1, f2, f3):
    &quot;&quot;&quot; Returns a function that is itself a higher order function
    &gt;&gt;&gt; def add1(x):
    ...     return x + 1
    &gt;&gt;&gt; def times2(x):
    ...     return x * 2
    &gt;&gt;&gt; def add3(x):
    ...     return x + 3
    &gt;&gt;&gt; my_cycle = cycle(add1, times2, add3)
    &gt;&gt;&gt; identity = my_cycle(0)
    &gt;&gt;&gt; identity(5)
    5
    &gt;&gt;&gt; add_one_then_double = my_cycle(2)
    &gt;&gt;&gt; add_one_then_double(1)
    4
    &gt;&gt;&gt; do_all_functions = my_cycle(3)
    &gt;&gt;&gt; do_all_functions(2)
    9
    &gt;&gt;&gt; do_more_than_a_cycle = my_cycle(4)
    &gt;&gt;&gt; do_more_than_a_cycle(2)
    10
    &gt;&gt;&gt; do_two_cycles = my_cycle(6)
    &gt;&gt;&gt; do_two_cycles(1)
    19
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q cycle</code></pre>

<h3 class="question" id="q6">Question 6: The Word Guessing Game</h3>

<p>Write a higher order function called <code>store_word</code> that takes in a secret word. It will return the length of the secret word and another function, <code>guess_word</code>, that the user can use to try to guess the secret word.</p>

<p>Assume that when the user tries to guess the secret word, they will only guess words that are equal in length to the secret word. The user can pass their guess into the <code>guess_word</code> function, and it will return a list where every element in the list is a boolean, True or False, indicating whether the letter at that index matches the letter in the secret word!</p>

<solution>

<pre><code>def store_word(secret):
    &quot;&quot;&quot;
    &gt;&gt;&gt; word_len, guess_word = store_word(&quot;cake&quot;)
    &gt;&gt;&gt; word_len
    4
    &gt;&gt;&gt; guess_word(&quot;corn&quot;)
    [True, False, False, False]
    &gt;&gt;&gt; guess_word(&quot;come&quot;)
    [True, False, False, True]
    &gt;&gt;&gt; guess_word(&quot;cake&quot;)
    [True, True, True, True]
    &gt;&gt;&gt; word_len, guess_word = store_word(&quot;pop&quot;)
    &gt;&gt;&gt; word_len
    3
    &gt;&gt;&gt; guess_word(&quot;ate&quot;)
    [False, False, False]
    &gt;&gt;&gt; guess_word(&quot;top&quot;)
    [False, True, True]
    &gt;&gt;&gt; guess_word(&quot;pop&quot;)
    [True, True, True]
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q store_word</code></pre>


<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code>python3 ok &#x2d;&#x2d;submit</code></pre>

  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#lists-review">Lists Review</a></li>
  <ul>
  <li><a href="#q1">Question 1: Adding matrices</a></li>
</ul>

  <li><a href="#higher-order-functions">Higher Order Functions</a></li>
  <ul>
  <li><a href="#q2">Question 2: Mul_by_num</a></li>
  <li><a href="#q3">Question 3: This Question is so Derivative</a></li>
  <li><a href="#q4">Question 4: Count van Count</a></li>
  <li><a href="#q5">Question 5: I Heard You Liked Functions...</a></li>
  <li><a href="#q6">Question 6: The Word Guessing Game</a></li>
</ul>

  <li><a href="#submit">Submit</a></li>
</ul>

    </nav>
  </div>

</div>
    </div>

    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/fa22/assets/js/bootstrap.min.js"></script>
    <!-- TODO: Move to specific pages... -->
    <script src="/fa22/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>

  </body>
</html>
